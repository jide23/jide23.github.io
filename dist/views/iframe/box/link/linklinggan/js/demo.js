var person = [{
    name: 'Dribbble',
    motto: '全球UI设计师作品秀社区',
    href: 'https://dribbble.com/',
    src: 'img/dribbble.com.png',
    sorts: 'remen'
}, {
    name: 'Behance',
    motto: 'Adobe旗下设计师创意视觉社区',
    href: 'https://www.behance.net/',
    src: 'img/behance.net.png',
    sorts: 'remen'
}, {
    name: '站酷',
    motto: '设计师互动平台   ',
    href: 'http://www.zcool.com.cn/',
    src: 'img/zcool.com.cn.png',
    sorts: 'remen'
}, {
    name: 'UI中国',
    motto: '专业用户体验设计平台',
    href: 'http://www.ui.cn/',
    src: 'img/ui.cn.png',
    sorts: 'remen'
}, {
    name: '花瓣网',
    motto: '陪你做生活的设计师',
    href: 'https://huaban.com/',
    src: 'img/huaban.com.png',
    sorts: 'remen'
}, {
    name: 'Uisdc',
    motto: '设计师交流学习平台',
    href: 'http://www.uisdc.com/',
    src: 'img/uisdc.com.png',
    sorts: 'remen'
}, {
    name: '视觉me',
    motto: '视觉中国设计师&插画师交流平台',
    href: 'http://shijue.me/',
    src: 'img/shijue.me.png',
    sorts: 'remen'
}, {
    name: 'Reeoo',
    motto: '全球最火热的酷站画廊',
    href: 'http://reeoo.com/',
    src: 'img/reeoo.com.png',
    sorts: 'jiaohu'
}, {
    name: 'UImovement',
    motto: '移动界面UI动效展示',
    href: 'https://uimovement.com/',
    src: 'img/uimovement.com.png',
    sorts: 'jiaohu'
}, {
    name: 'ElastiCode',
    motto: '优秀APP交互动效收集',
    href: 'http://www.elasticode.com/allapps.php',
    src: 'img/elasticode.com.png',
    sorts: 'jiaohu'
}, {
    name: 'UIinteractions',
    motto: '动态效果展示',
    href: 'https://uiinteractions.com/',
    src: 'img/uiinteractions.com.png',
    sorts: 'jiaohu'
}, {
    name: '4DB',
    motto: '日本网页设计风格展',
    href: 'http://4db.cc/',
    src: 'img/4db.cc.png',
    sorts: 'jiaohu'
}, {
    name: 'Freshdesign',
    motto: 'MG动态效果展示',
    href: 'http://freshdesign.io/',
    src: 'img/freshdesign.io.png',
    sorts: 'jiaohu'
}, {
    name: 'Pttrns',
    motto: '专业收集APP截图的网站',
    href: 'http://pttrns.com/',
    src: 'img/pttrns.com.png',
    sorts: 'jiaohu'
}, {
    name: 'collectUI',
    motto: '设计师灵感设计案例作品的站点',
    href: 'http://collectui.com/',
    src: 'img/collectui.com.png',
    sorts: 'jiaohu'
}, {
    name: 'uplabs',
    motto: '采集前端作品设计、iOS UI设计',
    href: 'https://www.uplabs.com/',
    src: 'img/uplabs.com.png',
    sorts: 'jiaohu'
}, {
    name: 'OnePageLove',
    motto: '网站和APP单页界面欣赏',
    href: 'https://onepagelove.com/',
    src: 'img/onepagelove.com.png',
    sorts: 'jiaohu'
}, {
    name: 'Awwwards',
    motto: '为精美及创意的设计UI颁奖站点',
    href: 'http://www.awwwards.com/',
    src: 'img/awwwards.com.png',
    sorts: 'jiaohu'
}, {
    name: 'Freebiesbug',
    motto: '高质量设计网站、资源聚合站点',
    href: 'http://freebiesbug.com/',
    src: 'img/freebiesbug.com.png',
    sorts: 'jiaohu'
}, {
    name: 'UIgarage',
    motto: 'UI灵感收集聚合站点',
    href: 'https://uigarage.net/',
    src: 'img/uigarage.net.png',
    sorts: 'jiaohu'
}, {
    name: 'littlebigdetails',
    motto: '设计细节动效灵感分享网站',
    href: 'http://littlebigdetails.com/',
    src: 'img/littlebigdetails.com.png',
    sorts: 'jiaohu'
}, {
    name: 'Calltoidea',
    motto: '收集优秀UI组件元素设计的站点',
    href: 'http://www.calltoidea.com/',
    src: 'img/calltoidea.com.png',
    sorts: 'jiaohu'
}, {
    name: 'muuuuu',
    motto: '日本漂亮的酷站收集[需翻墙]',
    href: 'http://muuuuu.org/',
    src: 'img/muuuuu.org.png',
    sorts: 'jiaohu'
}, {
    name: 'Noteloop',
    motto: '收集科幻电影场景里UI交互界面',
    href: 'https://www.noteloop.com/kit/fui/',
    src: 'img/noteloop.com.png',
    sorts: 'jiaohu'
}, {
    name: 'sitesee',
    motto: '收录漂亮的界面设计网站',
    href: 'https://sitesee.co/',
    src: 'img/sitesee.co.png',
    sorts: 'jiaohu'
}, {
    name: 'BestWebsite',
    motto: '漂亮的酷站收集展示',
    href: 'https://bestwebsite.gallery/',
    src: 'img/bestwebsite.gallery.png',
    sorts: 'jiaohu'
}, {
    name: 'Straightline',
    motto: '日式风格设计网页收录展示',
    href: 'http://bm.straightline.jp/',
    src: 'img/bm.straightline.jp.png',
    sorts: 'jiaohu'
}, {
    name: 'webdesignclip',
    motto: '丰富的日式响应式设计收录站点',
    href: 'http://www.webdesignclip.com/',
    src: 'img/webdesignclip.com.png',
    sorts: 'jiaohu'
}, {
    name: 'CSSwinner',
    motto: '优秀CSS网站界面和交互设计获奖作品',
    href: 'http://www.csswinner.com/',
    src: 'img/csswinner.com.png',
    sorts: 'jiaohu'
}, {
    name: 'SiteinSpire',
    motto: '优秀网页设计展示平台',
    href: 'https://www.siteinspire.com/',
    src: 'img/siteinspire.com.png',
    sorts: 'jiaohu'
}, {
    name: 'UseYourInterface',
    motto: '界面交互响应设计收录网站',
    href: 'http://useyourinterface.com/',
    src: 'img/useyourinterface.com.png',
    sorts: 'jiaohu'
}, {
    name: 'lovelyUI',
    motto: '可爱的UI手机界面设计搜集',
    href: 'http://www.lovelyui.com/',
    src: 'img/lovelyui.com.png',
    sorts: 'jiaohu'
}, {
    name: 'CSSWINNER',
    motto: '国外优秀CSS网站画廊',
    href: 'http://www.csswinner.com',
    src: 'img/csswinner.com.png',
    sorts: 'wangye'
}, {
    name: 'MUUUUU',
    motto: '日本网页画廊，更新较快',
    href: 'http://muuuuu.org',
    src: 'img/muuuuu.org.png',
    sorts: 'wangye'
}, {
    name: '韩国设计森林',
    motto: '韩国网页画廊网站',
    href: 'https://www.jungle.co.kr/gallery',
    src: 'img/jungle.co.kr.png',
    sorts: 'wangye'
}, {
    name: 'NicePSD',
    motto: '优质设计素材下载站',
    href: 'https://www.nicepsd.com/vector-p3/',
    src: 'img/nicepsd.com.png',
    sorts: 'wangye'
}, {
    name: 'UI-Cloud',
    motto: '海量UI资源，可当素材库或灵感库使用',
    href: 'http://ui-cloud.com',
    src: 'img/ui-cloud.com.png',
    sorts: 'wangye'
}, {
    name: 'flypixel',
    motto: '目前已有800多个优秀UI资源',
    href: 'http://flypixel.com',
    src: 'img/flypixel.com.png',
    sorts: 'wangye'
}, {
    name: 'Pixeden',
    motto: 'APP UI、网页模板、纹理等',
    href: 'http://www.pixeden.com',
    src: 'img/pixeden.com.png',
    sorts: 'wangye'
}, {
    name: '优秀设计资源',
    motto: '不定期分享免费高品质干货',
    href: 'http://www.shejidaren.com/category/design-resources',
    src: 'img/shejidaren.com.png',
    sorts: 'wangye'
}, {
    name: 'freebiesgallery',
    motto: 'WEB, APP UI等PSD素材',
    href: 'http://www.freebiesgallery.com',
    src: 'img/freebiesgallery.com.png',
    sorts: 'wangye'
}, {
    name: '365webresources',
    motto: '分享网页和UI相关免费素材',
    href: 'https://365webresources.com',
    src: 'img/365webresources.com.png',
    sorts: 'wangye'
}, {
    name: 'Graph Berry',
    motto: 'Mockup、icon、模板等素材分享',
    href: 'http://www.graphberry.com',
    src: 'img/graphberry.com.png',
    sorts: 'wangye'
}, {
    name: 'Themeforest',
    motto: '质量极高的网页模板分享平台 也可以在这里找灵感',
    href: 'http://themeforest.net/category/all?ref=shejidaren',
    src: 'img/themeforest.net.png',
    sorts: 'wangye'
}, {
    name: '网站模板',
    motto: '不定期精选优秀PSD/HTML网站模板',
    href: 'http://www.shejidaren.com/tag/%E7%BD%91%E7%AB%99%E6%A8%A1%E6%9D%BF',
    src: 'img/shejidaren.com.png',
    sorts: 'wangye'
}, {
    name: 'Templated',
    motto: '响应式模板分享站',
    href: 'http://templated.co',
    src: 'img/templated.co.png',
    sorts: 'wangye'
}, {
    name: 'Freewebsitetemplates',
    motto: '免费网页模板分享，有的质量不错',
    href: 'http://www.freewebsitetemplates.com',
    src: 'img/freewebsitetemplates.com.png',
    sorts: 'wangye'
}, {
    name: '网页模板巨人',
    motto: '提供多行业企业网站、CMS、商城模板',
    href: 'https://www.templatemonster.com/cn/?aff=freeui',
    src: 'img/templatemonster.com.png',
    sorts: 'wangye'
}, {
    name: 'CSS Design Awards',
    motto: '欧美网页设计欣赏',
    href: 'http://www.cssdesignawards.com',
    src: 'img/cssdesignawards.com.png',
    sorts: 'wangye'
}, {
    name: 'Awwwards',
    motto: '欧美网页设计欣赏',
    href: 'http://www.awwwards.com',
    src: 'img/awwwards.com.png',
    sorts: 'wangye'
}, {
    name: '4db',
    motto: '日本网页设计欣赏',
    href: 'http://4db.cc',
    src: 'img/4db.cc.png',
    sorts: 'wangye'
}, {
    name: 'straightline',
    motto: '日本网页设计欣赏',
    href: 'http://bm.straightline.jp',
    src: 'img/bm.straightline.jp.png',
    sorts: 'wangye'
}, {
    name: 'Koreawebdesign',
    motto: '韩国网页设计欣赏,更新快',
    href: 'http://koreawebdesign.com/',
    src: 'img/koreawebdesign.com.png',
    sorts: 'wangye'
}, {
    name: 'ivdesign',
    motto: '韩国网页设计欣赏',
    href: 'http://www.ivdesign.co.kr/bbs/board.php?bo_table=goodsite',
    src: 'img/ivdesign.co.kr.png',
    sorts: 'wangye'
}, {
    name: '81-Web',
    motto: '日本网页设计画廊',
    href: 'http://81-web.com',
    src: 'img/81-web.com.png',
    sorts: 'wangye'
}, {
    name: 'One page love',
    motto: '单页网页设计欣赏',
    href: 'https://onepagelove.com',
    src: 'img/onepagelove.com.png',
    sorts: 'wangye'
}, {
    name: 'Mobile Patterns',
    motto: '移动网页设计欣赏',
    href: 'http://www.mobile-patterns.com',
    src: 'img/mobile-patterns.com.png',
    sorts: 'wangye'
}, {
    name: 'hoverstat',
    motto: 'Web 交互动画欣赏',
    href: 'http://hoverstat.es',
    src: 'img/hoverstat.es.png',
    sorts: 'wangye'
}, {
    name: 'io3000',
    motto: '日本网页画廊 更新超快 无广告',
    href: 'http://io3000.com',
    src: 'img/io3000.com.png',
    sorts: 'wangye'
}, {
    name: 'Web Design Clip',
    motto: '日本网页设计画廊',
    href: 'http://www.webdesignclip.com',
    src: 'img/webdesignclip.com.png',
    sorts: 'wangye'
}, {
    name: 'site inspire',
    motto: '欧美网页设计画廊',
    href: 'http://www.siteinspire.com',
    src: 'img/siteinspire.com.png',
    sorts: 'wangye'
}, {
    name: 'TheBestDesigns',
    motto: '除了分享网页，还有一些设计师/机构推荐',
    href: 'https://www.thebestdesigns.com/',
    src: 'img/thebestdesigns.com.png',
    sorts: 'wangye'
}, {
    name: 'NavNav',
    motto: '收集优秀Web&APP菜单',
    href: 'http://navnav.co',
    src: 'img/navnav.co.png',
    sorts: 'wangye'
}, {
    name: 'abduzeedo',
    motto: '每天创意作品分享',
    href: 'http://abduzeedo.com',
    src: 'img/abduzeedo.com.png',
    sorts: 'wangye'
}, {
    name: 'Logopond',
    motto: 'Logo设计灵感来源',
    href: 'http://logopond.com',
    src: 'img/logopond.com.png',
    sorts: 'wangye'
}, {
    name: 'WDL',
    motto: '国外网页设计信息博客',
    href: 'http://webdesignledger.com',
    src: 'img/webdesignledger.com.png',
    sorts: 'wangye'
}, {
    name: 'Pinterest',
    motto: '全球美图收藏采集站',
    href: 'https://www.pinterest.com/',
    src: 'img/pinterest.com.png',
    sorts: 'remen'
}, {
    name: 'FWA',
    motto: '创意媒体艺术设计作品展',
    href: 'https://thefwa.com/',
    src: 'img/thefwa.com.png',
    sorts: 'remen'
}, {
    name: 'abduzeedo',
    motto: '创意灵感和教程的设计博客',
    href: 'http://abduzeedo.com/',
    src: 'img/abduzeedo.com.png',
    sorts: 'remen'
}, {
    name: 'Bestfolios',
    motto: '产品丨界面丨插画灵感设计画廊',
    href: 'http://bestfolios.com/main',
    src: 'img/bestfolios.com.png',
    sorts: 'remen'
}, {
    name: 'Land-book',
    motto: '精挑细选的美站收集',
    href: 'https://land-book.com/',
    src: 'img/land-book.com.png',
    sorts: 'remen'
}, {
    name: 'CSS设计奖',
    motto: '全球优秀CSS网页设计奖提名网',
    href: 'http://www.cssdesignawards.com/',
    src: 'img/cssdesignawards.com.png',
    sorts: 'remen'
}, {
    name: 'Logopond',
    motto: '国外LOGO展示社区',
    href: 'http://logopond.com/',
    src: 'img/logopond.com.png',
    sorts: 'remen'
}, {
    name: 'Ello',
    motto: '创意工作者网络社区和资讯',
    href: 'https://ello.co/',
    src: 'img/ello.co.png',
    sorts: 'remen'
}, {
    name: 'MyFont',
    motto: '最新时尚的商业英文字体',
    href: 'http://www.myfonts.com/',
    src: 'img/myfonts.com.png',
    sorts: 'remen'
}, {
    name: 'Sketchfab',
    motto: '全球最极致3D设计模型在线展示平台',
    href: 'https://sketchfab.com/',
    src: 'img/sketchfab.com.png',
    sorts: 'remen'
}, {
    name: 'AdobeColor',
    motto: '非常便捷的在线配色网站',
    href: 'https://color.adobe.com/',
    src: 'img/color.adobe.com.png',
    sorts: 'remen'
}, {
    name: 'lapa',
    motto: '优秀LandingPage落地页收集',
    href: 'http://lapa.ninja/',
    src: 'img/lapa.ninja.png',
    sorts: 'remen'
}, {
    name: 'Fubiz',
    motto: '法国每日新鲜创意灵感分享',
    href: 'http://www.fubiz.net/',
    src: 'img/fubiz.net.png',
    sorts: 'remen'
}, ]
var inp = document.getElementsByClassName('inp')[0],
    btnList = document.getElementsByClassName('btn-list')[0],
    prompt = document.getElementsByClassName('prompt')[0],
    user = document.getElementsByClassName('user')[0];

function createList(list) {
    var str = '';
    list.forEach(function(ele, index) {
        str += '<a href =' + ele.href + ' target="_self">\
                    <li>\
                    <div class="head-img">\
                    <img src=' + ele.src + ' alt="">\
                    </div>\
                    <div class="tit">\
                    <p class="name">' + ele.name + '</p>\
                    <p class="motto">' + ele.motto + '</p>\
                    </div>\
                    </li>\
                </a>'
    })
    user.innerHTML = str
}
createList(person);
var state = createStore({
    text: '',
    sorts: 'all'
})
state.addFn(function() {
    createList(perArr());
    anti(show());
})
inp.oninput = anti(getInput, 1000)

function getInput() {
    state.change({
        type: 'text',
        value: this.value
    });
}

function anti(hander, delay) {
    var timer = null;
    return function() {
        var _self = this,
            args = arguments;
        clearTimeout(timer)
        timer = setTimeout(function() {
            hander.apply(_self, args)
        }, delay)
    }
}

function show() {
    if (user.children.length == 0) {
        prompt.style.display = 'block'
    } else {
        prompt.style.display = 'none'
    }
}

function addFn(obj, arr) {
    return function() {
        var lastArr = arr;
        for (prop in obj) {
            lastArr = obj[prop](state.getState()[prop], lastArr)
        }
        return lastArr
    }
}
var perArr = addFn({
    text: filterText,
    sorts: filtersorts
}, person)
btnList.onclick = function(e) {
    var tar = e.target;
    if (tar.tagName == 'OPTION') {
        document.getElementsByClassName('active')[0].className = '';
        tar.className = 'active';
        state.change({
            type: 'sorts',
            value: tar.getAttribute('sorts')
        })
    }
}

function filterText(text, arr) {
    return arr.filter(function(ele, index) {
        if (ele.name.indexOf(text) != -1 || ele.motto.indexOf(text) != -1) {
            return true
        }
    })
}

function filtersorts(sorts, arr) {
    if (sorts == 'all') {
        return arr
    } else {
        return arr.filter(function(ele, index) {
            if (ele.sorts == sorts) {
                return true
            }
        })
    }
}